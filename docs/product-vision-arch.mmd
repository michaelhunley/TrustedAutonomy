flowchart TD
  %% =========================
  %% Product Vision Architecture
  %% =========================

  H1["ğŸ‘¤ Human Goal<br/><b>â€œHandle my email correspondenceâ€</b><br/>â€¢ Track urgent/important emails<br/>â€¢ Reply in my voice<br/>â€¢ Notify me via Slack of commitments + anything needing attention"]

  TA0["ğŸ›¡ï¸ Trusted Autonomy (TA)<br/><b>Goal Run</b><br/>â€¢ Suggest + enforce access charter<br/>â€¢ Mediate tools + connectors<br/>â€¢ Collect all mutations as ChangeSets<br/>â€¢ Produce Draft Package for review"]

  VW["ğŸ§© Virtual Workspace (Conceptual)<br/><i>Agents operate within a bounded capability space</i><br/>â€¢ Virtualized state across endpoints<br/>â€¢ Staged-by-default mutations<br/>â€¢ Per-goal settings + budgets"]

  A1["ğŸ¤– Agent / Swarm (any framework)<br/><b>Operates normally</b><br/>Claude / Codex / LangChain / Ollama / etc."]

  C1["ğŸ”Œ Connectors (mediated)<br/> â€¢ Email<br/> â€¢ Slack<br/> â€¢ Docs/Drive<br/> â€¢ DB<br/> â€¢ Web<br/> â€¢ Filesystem<br/> â€¢ Social"]
  C2["ğŸŒ Research / Web Access (mediated)<br/>â€¢ Sanitized inputs<br/>â€¢ Provenance labels<br/>â€¢ Instruction-hierarchy firewall"]

  DP["ğŸ“¦ Draft Package (semantic review bundle)<br/><b>Changes + rationale + risk flags</b><br/>â€¢ Email drafts<br/>â€¢ Slack notifications queued<br/>â€¢ DB / API mutations staged<br/>â€¢ File changes staged"]

  H2["ğŸ‘¤ Human Review<br/><b>Review Draft Package</b><br/>Approve / Reject / Discuss per item"]

  APPLY["âœ… Apply Approved Changes<br/><b>Commit staged effects to real world</b><br/>Send emails â€¢ Post Slack â€¢ Write DB â€¢ Apply file changes"]

  %% Main flow
  H1 --> TA0 --> DP --> H2 --> APPLY
  TA0 --> VW --> A1
  TA0 --> C1
  TA0 --> C2
  A1 --> TA0
  C1 --> TA0
  C2 --> TA0

  %% Notes / emphasis
  A1 -. "TA is transparent\nto agent framework" .-> TA0
  DP -. "Single milestone review,\nnot per-action prompts" .-> H2
